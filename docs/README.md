# AI智能起名顾问 - 文档中心

> 🎯 AI 智能起名顾问 完整技术文档库  
> 版本: v2.1 (H5 Web + AI Agent + SQLite)  
> 更新日期: 2026-02-03

---

## 📚 文档目录

| 序号 | 文档 | 说明 | 适用读者 |
|-----|------|------|---------|
| 01 | [PRD.md](./01-PRD.md) | 产品需求文档（AI Agent 生成） | 产品经理 |
| 02 | [TDD.md](./02-TDD.md) | 技术设计文档（SQLite 架构） | 架构师 |
| 03 | [Database.md](./03-Database.md) | 数据库设计（SQLite 简化） | 后端开发 |
| 04 | [UI-UX.md](./04-UI-UX.md) | UI/UX 设计（AI 生成状态） | 设计师 |
| 05 | [Payment-API.md](./05-Payment-API.md) | 支付接口文档（H5 支付） | 后端开发 |
| 06 | [API.md](./06-API.md) | 业务接口文档（AI Agent） | 前后端开发 |
| 07 | [Deployment.md](./07-Deployment.md) | 部署文档（SQLite 部署） | 运维 |

---

## 🚀 快速开始

### 1. 了解产品
阅读 [01-PRD.md](./01-PRD.md) 了解核心特点：
- **纯 H5 Web**：无需下载，浏览器直接访问
- **AI Agent 驱动**：八字、名字、解析全部由 AI 实时生成
- **SQLite 轻量存储**：本地/服务端轻量数据持久化
- **付费解锁**：第一个免费，其余付费

### 2. 查看技术架构
阅读 [02-TDD.md](./02-TDD.md) 了解：
- 纯前端方案 vs 轻后端方案
- AI Agent Prompt 设计
- SQLite 存储设计

### 3. 开发实现
- 前端：[04-UI-UX.md](./04-UI-UX.md)
- 后端：[03-Database.md](./03-Database.md) + [06-API.md](./06-API.md)
- 支付：[05-Payment-API.md](./05-Payment-API.md)

### 4. 部署上线
阅读 [07-Deployment.md](./07-Deployment.md) 完成：
- 纯前端部署（Vercel/Netlify）
- 或轻后端部署（Docker + SQLite）

---

## 🏗️ 系统架构

### 推荐架构（初期）

> **核心设计**: AI 输出严格的结构化 JSON，前端基于预设数据结构直接渲染 UI 组件。

```
┌─────────────────────────────────────────┐
│           H5 Web 应用                    │
│                                         │
│  ┌─────────┐ ┌─────────┐ ┌─────────┐   │
│  │ React   │ │IndexedDB│ │OpenAI   │   │
│  │   UI    │ │  存储   │ │  Client │   │
│  └─────────┘ └─────────┘ └─────────┘   │
│                                         │
│  • AI Agent 实时生成八字和名字          │
│  • 数据存储在浏览器本地                  │
│  • 用户可自备 OpenAI API Key            │
│                                         │
└─────────────────────────────────────────┘
           │              │
           ▼              ▼
┌─────────────────┐  ┌─────────────────┐
│   静态托管      │  │   OpenAI API    │
│ Vercel/Netlify  │  │  GPT-4/Claude   │
└─────────────────┘  └─────────────────┘
```

### 完整架构（含支付）

> **数据流**: AI Agent → 结构化 JSON → 前端组件直接渲染

```
┌─────────────────────────────────────────┐
│           H5 Web 前端                    │
└─────────────────────────────────────────┘
                    │
                    ▼ HTTPS
┌─────────────────────────────────────────┐
│         轻量后端（Node.js + SQLite）      │
│                                         │
│  ┌──────────┐ ┌──────────┐ ┌──────────┐│
│  │ Express  │ │ SQLite   │ │ 支付 SDK ││
│  │   API    │ │ Database │ │微信/支付宝││
│  └──────────┘ └──────────┘ └──────────┘│
│                                         │
│  ┌──────────┐                           │
│  │ AI 代理  │  转发 AI 请求，保护 API Key │
│  └──────────┘                           │
└─────────────────────────────────────────┘
                    │
                    ▼
┌─────────────────────────────────────────┐
│           第三方服务                     │
│  ┌──────────┐ ┌──────────┐             │
│  │ OpenAI   │ │ 微信支付 │             │
│  │ Claude   │ │ 支付宝   │             │
│  └──────────┘ └──────────┘             │
└─────────────────────────────────────────┘
```

---

## 🤖 AI Agent 核心能力

> **关键原则**: 所有 AI Agent 必须输出**严格结构化的 JSON 数据**，前端组件基于这些 JSON 结构直接渲染 UI，不做自由文本解析。

### 1. 八字分析 Agent
- **输入**：出生年月日时
- **输出**：结构化 `BaziAnalysis` JSON（四柱、藏干、纳音、五行、喜用）
- **能力**：历法计算、五行推理、命理分析
- **前端渲染**：`BaziAnalysisCard` 组件直接消费 JSON 数据渲染

### 2. 名字生成 Agent
- **输入**：八字信息 + 用户期望
- **输出**：结构化 `NameDetail[]` JSON 数组（6 个名字的完整结构化数据）
- **能力**：汉字学、诗词典故、音韵学
- **前端渲染**：`NameList` + `NameCard` 组件直接遍历 JSON 数组渲染

### 3. 名字解析 Agent
- **输入**：名字 + 八字
- **输出**：结构化 `NameInterpretation` JSON（汉字解析、音韵分析、五行匹配、专属寓意）
- **能力**：字典检索、文化解读、个性化生成
- **前端渲染**：`CharacterAnalysis`、`YinyunAnalysis`、`WuxingMatch` 等组件按字段直接渲染

---

## 💰 商业化设计

### 付费点

| 付费点 | 免费内容 | 付费内容 | 价格 |
|-------|---------|---------|------|
| 单个系列 | 第一个 AI 名字预览 | 该系列全部 6 个 AI 名字 | ¥9.9 |
| 全部系列 | 同上 | 全部 18 个 AI 名字 | ¥19.9 |

### 付费流程
```
用户点击锁定内容
    ↓
显示支付弹窗（微信/支付宝）
    ↓
调起 H5 支付
    ↓
支付成功 → 解锁 AI 生成内容
    ↓
展示完整的 AI 名字解析
```

---

## 📋 核心功能清单

### MVP 功能
- [x] H5 Web 应用
- [x] AI Agent 八字分析
- [x] AI Agent 名字生成
- [x] AI Agent 详细解析
- [x] 第一个名字免费预览
- [x] 微信支付/支付宝
- [x] IndexedDB/SQLite 存储

### 增强功能
- [x] 多宝宝管理
- [x] 收藏系统
- [x] 流式 AI 输出
- [x] 支付解锁机制

---

## 🛠️ 技术栈

### 前端 (最新稳定版)
- React 19.2.4 + TypeScript 5.9.3
- Tailwind CSS 4.1.18 + shadhn/ui
- Framer Motion 12.31.0
- Zustand 5.0.11（状态管理）
- localForage 1.10.0（IndexedDB 封装）
- Vite 7.3.1（构建工具）

### 后端（可选）
- Node.js 20 + Express
- better-sqlite3（SQLite）
- 微信支付 SDK
- 支付宝 SDK

### AI
- OpenAI
- Deepseek （备选）
- Claude（备选）
- SSE 流式输出

---

## 🚀 部署方式

### 方式一：纯前端（推荐 MVP）
```bash
# 构建
npm run build

# 部署到 Vercel
vercel --prod
```

### 方式二：轻后端（推荐正式版）
```bash
# Docker 部署
docker-compose up -d
```

详见 [07-Deployment.md](./07-Deployment.md)

---

## 🔮 未来规划

### v2.2（近期）
- [ ] 更多 AI 模型支持（文心一言/通义千问）
- [ ] 流式生成动画优化
- [ ] 用户反馈调优 AI

### v2.3（中期）
- [ ] AI 名字生成质量优化
- [ ] 批量生成模式
- [ ] 家族起名模式

### v3.0（长期）
- [ ] 真人专家 + AI 混合模式
- [ ] 名字运势跟踪
- [ ] 社交分享功能

---

## 🤝 贡献指南

1. 提交 Issue 反馈问题
2. 提交 PR 改进代码
3. 完善文档内容

---

## 📞 联系方式

如有问题，请联系项目维护团队。

---

**最后更新**: 2026-02-03  
**文档版本**: v2.1  
**产品版本**: v2.1.0
